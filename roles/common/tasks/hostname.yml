---

# Overwrite file hosts | set default
- name: "Set new hostname for groups"
  hostname:
    name: "{{ inventory_hostname }}"

- name: "Update hostname in {{ hostname_conf_dir }}"
  lineinfile:
    path: "{{ hostname_conf_dir }}"
    regexp: '^.*$'
    line: "{{ inventory_hostname }}"

- name: "Overwrite hosts file with updated entries"
  become: true
  template:
    src: hosts.j2
    dest: "{{ hosts_conf_dir }}"
